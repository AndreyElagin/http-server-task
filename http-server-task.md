### Задача

**Написать HTTP сервер.** 

Предполагается следущий сценарий использования:

- у данного сервера будут пользователи и клиенты
  - под пользователями я подразумеваю людей которые будут этот сервер устанавливать (деплоить)
  - под клиентами я подразумеваю людей которые будут к нему подключаться, тоесть отправлять запросы через обычный браузер в надежде увидеть веб страничку
- необходимо удовлетворить нужды и первых и вторых
  - для пользователей в первую очередь важно то насколько удобно его будет запускать, тоесть у них должна быть возможность легкой конфигурации
    - конфигурироваться должны, как минимум, следующие параметры:
      - колличество потоков 
      - порт
      - маппинги эндпоинтов
  - для клиентов важно чтобы оно работало :)
  - тоесть когда я, как клиент, отправляю запрос на определенный URL, я получаю ожидаемую страничку
- обычный флоу пользователя сервера должен выглядеть так:
  -  у меня есть высокодохдный лэндинг пэйдж
  - я хочу чтобы он приносил мне миллионы
  - в специальную папочку на сервере кладу свой лэндинг
  - в конфиге прописываю URI по которому хотел бы чтобы он отдавался (по дефолту это просто "http://host:port/")
    - нужно предусмотреть возможность отдачи нескольких "сайтов" по разным URI
  - собираю сервер в джарник
  - запускаю его 
- после этого клиент сможет пойти ~~нахуй~~ по нужному адресу и увидеть свой лэндинг

### Компоненты

1. Непосрдественно сервер. Отвечает за вычитываение данных из сокета
2. HTTP парсер. Преобразует вычитаные из сокета данные в объектное представление HTTP-запроса
3. Контроллер. Независимый от предыдущих компонент, который отвечают за отображение оперделенных параметров HTTP-запросов в некоторые "бизнесс"-правила. В нашем случае этими бизнес правилами будет просто отдача статических ресурсов (html, css, js, jpeg etc... файлов). 

**Сервер** - сердце нашей системы, он бесконечно ждет соединений на нужном сокете, и как только его получает, назначает из своего пула ресурсов поток в котором произойдет вычитывание данных. Самое важное что здесь необходимо реализовать это возможность работы в многопоточном режиме, тоесть сервер должен уметь обработать за раз более одного соединения. Мы достигнем этого за счет того что будем использовать самописный пул ресурсов на основе одной из реализаций Executor. Под ресурсом выше я подразумеваю класс который знает как вычитать данные из сокета и куда их дальше отправить.

**HTTP-парсер** - принимает данные после сервера и преобразует их в класс HttpRequest (ты его сам должен написать). Парсер должен быть стейтлесс классом и скорее всего он будет отрабатывать в том же потоке который сервер назначит текущему соединению. Вообще, наверное, вся работа связанная с конкретным запросом, будет происходить в том же потоке.

**Контроллер** - в соответствии с требованями выше, тебе необходимо реализовать возможность "хостинга" нескольких сайтов в рамках одного сервера, на деле это значит что на уровне файловой системы машины на которой будет запускаться твой сервер будет некая папочка в которой будут хранится 2 вещи:

1. Конфигурация эндпоинтов - по какому URI какой сайт будет отдаваться
2. Исходники сайтов. Возможно это будет подпапка с папками

Контроллер это такой компонент на уровне которого будет приниматься решение о том какой сайт отдать. Он будет периодический перечитывать конфиг, и в соответвии с ним отдавать нужный сайт. Нужно придумать как, с какой периодичностью и возможно по какому событию конфиг будет перечитываться. Контроллер должен кэшировать конфиг чтобы на каждый запрос не читать файл с диска. 

### Дополнительно

Необходимо будет реализовать 2 вещи

1. Пул ресурсов. Для этого надо будет посмотреть видосы про многопоточность

2. Консольный логгер. По сути это просто враппер над sout с несколькоими фичами

   1. Уровень логирования (ERROR, DEBUG, WARN) это позволит разделить логи

   2. Вывод каждого сообщения будет содержать какую нить важную информацию типа текущего класса, потока и прочего

      

**Технические требования:**

- Во время работы сервер, на всех уровнях должен логировать свою работу
- Должен возвращать разумные HTTP коды в случае успеха или ошибки
- Все зависимости в классы должны поставлятся только через конструкторы (в особых случаях это может быть обсуждаем)
- Нужно активно использовать интерфейсы
- Тесты! Тесты должны быть
- Для сборки используем gradle (нужно посомтреть гайдики)
- Продолжаем использовать 11 джаву
- Нельзя использовать никаких внешних зависимостей кроме junit